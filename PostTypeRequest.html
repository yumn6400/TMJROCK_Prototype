<!DOCTYPE HTML>
<html lang='en'>
<head>
<meta charset='utf-8'>
<title>AJAX Examples</title>
<script>
function saveEnquiry()
{
var firstName=document.getElementById("firstName").value;
var lastName=document.getElementById("lastName").value;
var age=document.getElementById("age").value;
var customer={
"firstName":firstName,
"lastName":lastName,
"age":age
};
alert(customer);
var whatever=document.getElementById('whatever');
whatever.innerHTML="";
var xmlHttpRequest=new XMLHttpRequest();
xmlHttpRequest.onreadystatechange=function(){
if(this.readyState==4)
{
if(this.status==200)
{
var customer=JSON.parse(this.responseText);
alert(customer);
var a="FirstName :"+customer.firstName+"<br>";
a=a+"LastName :"+customer.lastName+"<br>";
a=a+"Age :"+customer.age+"<br>";
whatever.innerHTML=a;
}
else
{
alert('some problem');
}
}
};
xmlHttpRequest.open('POST','servletThree',true);
xmlHttpRequest.setRequestHeader("content-type","application/json");
xmlHttpRequest.send(JSON.stringify(customer));
}
</script>
</head>
<body>
<h1> Post type request </h1>
First Name <input type='text' id='firstName'><br>
Last Name <input type='text' id='lastName'><br>
Age <input type='text' id='age'><br>
<button type='button' onclick='saveEnquiry()'>Save</button>
<br>
<div id='whatever'></div>
<br>
<a href='/ajax2/index.html'>Home</a>
</body>